<div class="container w-75 mt-3 mb-5">
  <form (ngSubmit)="cadastrar()" [formGroup]="form" #formPaciente="ngForm">
    <div>
      <h3>Preencha os campos para cadastrar</h3>
      <div class="row">
        <div class="col-6">
          <label for="nome" class="form-label">Nome Completo</label>
          <input type="text" name="nome" class="form-control" id="nome" formControlName="nome">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted">
            <p class="mb-0" *ngIf="form.get('nome')?.errors?.['required']">Campo não pode ser vazio</p>
            <p class="mb-0" *ngIf="form.get('nome')?.errors?.['minlength']">Mínimo 4 caracteres</p>
            <p class="mb-0" *ngIf="form.get('nome')?.errors?.['maxlength']">Maximo 80 caracteres</p>
          </div>
        </div>
        <div class="col-3">
          <label for="genereo" class="form-label">Genero</label>
          <select name="genero" class="form-select" id="genereo" aria-label="Default select example" formControlName="genero">
            <option selected value="">Gênero</option>
            <option value="masculino">Masculino</option>
            <option value="feminino">Feminino</option>
          </select>
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('genero')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-3">
          <label for="nascimento" class="form-label">Data nascimento</label>
          <input type="" name="nascimento"  class="form-control" id="nascimento" formControlName="data">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('data')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
      </div>
      <!--  -->
      <div class="row mt-2">
        <div class="col-4">
          <label for="cpf" name="cpf" class="form-label">CPF</label>
          <input type="text" class="form-control" id="cpf" formControlName="cpf">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('cpf')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-4">
          <label for="rg" name="rg" class="form-label">RG</label>
          <input type="text" class="form-control" id="rg" formControlName="rg">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('rg')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-4">
          <label for="estadoCivil" class="form-label">Estado Civil</label>
          <select name="estadoCivil" class="form-select" id="estadoCivil" aria-label="Default select example" formControlName="estadoCivil">
            <option selected value="" >Estado Civil</option>
            <option value="casado">Casado(a)</option>
            <option value="solteiro">Solteiro(a)</option>
            <option value="uniaoEstavel">União Estável</option>
          </select>
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('estadoCivil')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
      </div>
      <!--  -->
      <div class="row mt-2">
        <div class="col-4">
          <label for="telefone" name="telefone" class="form-label">Telefone</label>
          <input type="text" class="form-control" id="telefone" formControlName="telefone">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('telefone')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-5">
          <label for="email" name="email" class="form-label">E-mail</label>
          <input type="text" class="form-control" id="email" formControlName="email">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('email')?.errors?.['email']">E-mail inválido</p>
          </div>
        </div>
        <div class="col-3">
          <label for="naturalidade" name="naturalidade" class="form-label">Naturalidade</label>
          <input type="text" class="form-control" id="naturalidade" formControlName="naturalidade">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted">
            <p class="mb-0" *ngIf="form.get('naturalidade')?.errors?.['required']">Campo não pode ser vazio</p>
            <p class="mb-0" *ngIf="form.get('naturalidade')?.errors?.['minlength']">Mínimo 5 caracteres</p>
            <p class="mb-0" *ngIf="form.get('naturalidade')?.errors?.['maxlength']">Maximo 100 caracteres</p>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-4">
          <label for="contEmergencia" name="contEmergencia" class="form-label">Contato de emergência</label>
          <input type="text" class="form-control" id="contEmergencia" formControlName="emergencia">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('emergencia')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
      </div>
    </div>
    <!-- convenio -->
    <div class="mt-4">
      <h5>Convênio</h5>
      <div class="row">
        <div class="col-4">
          <label for="convenio" class="form-label">Convênio</label>
          <input type="text" name="convenio" class="form-control" id="convenio" formControlName="convenio">
        </div>
        <div class="col-4">
          <label for="carteira" class="form-label">Número da carteira</label>
          <input type="text" name="carteira" class="form-control" id="carteira" formControlName="carteira">
        </div>
        <div class="col-4">
          <label for="validade" class="form-label">Validade</label>
          <input type="text" name="validade" class="form-control" id="validade" formControlName="validade">
        </div>
      </div>
    </div>
    <!--  -->
    <div class="mt-4" formGroupName="endereco">
      <h5>Endereço</h5>
      <div class="row">
        <div class="col-4">
          <label for="cep" class="form-label">Cep</label>
          <input type="text" name="cep" class="form-control" id="cep" formControlName="cep">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('cep')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-5">
          <label for="cidade" class="form-label">Cidade</label>
          <input type="text" name="cidade" class="form-control" id="cidade" formControlName="cidade">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('cidade')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-3">
          <label for="estado" class="form-label">Estado</label>
          <input type="text" name="estado" class="form-control" id="estado" formControlName="estado">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('estado')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-9">
          <label for="logradouro" class="form-label">Logradouro</label>
          <input type="text" name="logradouro" class="form-control" id="logradouro" formControlName="logradouro">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('logradouro')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-3">
          <label for="numero" class="form-label">Número</label>
          <input type="text" name="numero" class="form-control" id="numero" formControlName="numero">
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('numero')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-4">
          <label for="complemento" class="form-label">Complemento</label>
          <input type="text" name="complemento" class="form-control" id="complemento" formControlName="complemento">
        </div>
        <div class="col-4">
          <label for="bairro" class="form-label">Bairro</label>
          <input type="text" name="bairro" class="form-control" id="bairro" formControlName="bairro" >
          <div class="badge bg-danger text-wrap" *ngIf="formPaciente.submitted" >
            <p class="mb-0" *ngIf="form.get('bairro')?.errors?.['required']">Campo não pode ser vazio</p>
          </div>
        </div>
        <div class="col-4">
          <label for="referencia" class="form-label">Ponto de referência</label>
          <input type="text" name="referencia" class="form-control" id="referencia" formControlName="referencia">
        </div>
      </div>
      <div class="row mt-5">
        <div class="col-5 m-auto">
            <button type="submit" [disabled]="form.value.id != undefined" class="btn btn-success me-3">Cadastrar</button>
            <button type="button" [disabled]="form.value.id == null" (click)="editar()" class="btn btn-warning me-3">Editar</button>
            <button type="button" [disabled]="form.value.id == null" (click)="deletar()" class="btn btn-danger">Excluir</button>
        </div>
      </div>
    </div>
  </form>
</div>
